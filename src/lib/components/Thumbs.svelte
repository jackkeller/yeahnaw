<script>
  import { Yeah, Naw } from '@app/store.js'
  export let yeahPercent, nawPercent, up, down, total = 50

  Yeah.subscribe((y) => {
		yeahPercent = y
	})

	Naw.subscribe((n) => {
		nawPercent = n
	})

  $: up = (100 * yeahPercent / total).toFixed(0)
  $: down = (100 * nawPercent / total).toFixed(0)

</script>

<div class="thumbs">
  <div class="thumb up" style="left: {up}%">
    <div class="entry"></div>
    <svg width="1090" height="156" viewBox="0 0 1090 156" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M1026.39 15.3375C1024.94 -0.13743 1006.31 -4.61262 1002.58 15.3352C1000.38 27.0895 993.633 38.6229 981.386 50.55C969.139 62.477 966.095 71.9128 961.309 77.5506C961.309 77.5506 941.452 78.8782 936.98 78.8782C932.507 78.8782 854.881 76.7345 854.881 76.7345C854.881 76.7345 753.501 78.8782 748.283 78.8782C745.65 78.8782 735.501 76.3173 650.63 76.7345C567.254 77.1443 5.08029 77.5504 5.08029 77.5504C5.08029 77.5504 1.35296 95.2777 2.09847 112.423C2.84398 129.568 7.3166 145.207 7.3166 145.207C7.3166 145.207 552.662 147.47 634.23 148.189C721.132 148.955 738.892 146.608 744.555 146.616C755.535 146.631 868.703 149.68 875.753 148.189C882.804 146.698 938.541 142.211 950.805 143.717C963.07 145.222 979.235 145.207 979.235 145.207C987.653 149.562 1000.15 151.429 1005.35 151.818C1005.35 151.818 1024.82 153.308 1034.57 153.308C1044.32 153.308 1063.8 151.818 1063.8 151.818C1063.8 151.818 1073.4 150.441 1074.71 142.486C1076.03 134.531 1070.91 133.271 1068.48 127.366C1068.48 127.366 1083.09 127.366 1082.51 116.823C1081.92 106.279 1074.71 103.214 1074.71 103.214C1074.71 103.214 1085.62 99.7506 1087.18 90.3821C1088.74 81.0136 1074.71 77.5506 1074.71 77.5506C1074.71 77.5506 1079.8 75.6789 1081.15 66.4689C1082.51 57.259 1073.4 55.3872 1070.24 55.3872C1067.08 55.3872 1056.17 54.2609 1043.54 58.369C1030.91 62.477 1012.36 55.3872 1012.36 55.3872C1018.59 44.1111 1027.97 32.2048 1026.39 15.3375Z" fill="#64968D"/>
      <path d="M1074.71 77.5506C1074.71 77.5506 1079.8 75.6789 1081.15 66.4689C1082.51 57.259 1073.4 55.3872 1070.24 55.3872C1067.08 55.3872 1056.16 54.2609 1043.54 58.369C1030.91 62.477 1012.36 55.3872 1012.36 55.3872C1018.59 44.1111 1027.97 32.2048 1026.39 15.3375C1024.94 -0.13743 1006.31 -4.61262 1002.58 15.3352C1000.38 27.0895 993.633 38.6229 981.386 50.55C969.139 62.477 966.095 71.9128 961.309 77.5506C961.309 77.5506 941.452 78.8782 936.98 78.8782C932.507 78.8782 854.881 76.7345 854.881 76.7345C854.881 76.7345 753.501 78.8782 748.283 78.8782C745.65 78.8782 735.501 76.3173 650.63 76.7345C567.254 77.1443 5.08029 77.5504 5.08029 77.5504C5.08029 77.5504 1.35296 95.2777 2.09847 112.423C2.84398 129.568 7.3166 145.207 7.3166 145.207C7.3166 145.207 552.662 147.47 634.23 148.189C721.132 148.955 738.892 146.608 744.555 146.616C755.535 146.631 868.703 149.68 875.753 148.189C882.804 146.698 938.541 142.211 950.805 143.717C963.07 145.222 979.235 145.207 979.235 145.207C987.653 149.562 1000.15 151.429 1005.35 151.818C1005.35 151.818 1024.82 153.308 1034.57 153.308C1044.32 153.308 1063.8 151.818 1063.8 151.818C1063.8 151.818 1073.4 150.441 1074.71 142.486C1076.03 134.531 1070.91 133.271 1068.48 127.366M1074.71 77.5506C1074.71 77.5506 1088.74 81.0136 1087.18 90.3821C1085.62 99.7506 1074.71 103.214 1074.71 103.214M1074.71 77.5506L1061.47 77.5506M1074.71 103.214C1074.71 103.214 1081.92 106.279 1082.51 116.823C1083.09 127.366 1068.48 127.366 1068.48 127.366M1074.71 103.214L1061.47 103.214M1068.48 127.366L1053.27 127.366" stroke="#283F3C" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
  </div>
  <div class="thumb down" style="right: {down}%">
    <div class="entry"></div>
    <svg width="1091" height="156" viewBox="0 0 1091 156" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M63.9142 139.971C65.3608 155.446 83.9968 159.921 87.724 139.973C89.9202 128.219 96.6694 116.686 108.916 104.759C121.163 92.8315 124.208 83.3957 128.994 77.7579C128.994 77.7579 148.851 76.4303 153.323 76.4303C157.796 76.4303 235.422 78.5741 235.422 78.5741C235.422 78.5741 336.802 76.4303 342.02 76.4303C344.652 76.4303 354.802 78.9912 439.673 78.5741C523.049 78.1643 1085.22 77.7582 1085.22 77.7582C1085.22 77.7582 1088.95 60.0309 1088.2 42.8858C1087.46 25.7406 1082.99 10.1014 1082.99 10.1014C1082.99 10.1014 537.641 7.83862 456.072 7.11939C369.171 6.35313 351.411 8.70073 345.747 8.69297C334.767 8.6779 221.6 5.6285 214.549 7.11937C207.499 8.61024 151.762 13.0979 139.497 11.592C127.233 10.0861 111.068 10.1011 111.068 10.1011C102.65 5.74619 90.1537 3.87979 84.9577 3.49096C84.9577 3.49096 65.4817 2.00007 55.7305 2.00006C45.9793 2.00006 26.5032 3.49095 26.5032 3.49095C26.5032 3.49095 16.907 4.86794 15.5916 12.8229C14.2763 20.7779 19.3918 22.0378 21.8267 27.9423C21.8267 27.9423 7.2161 27.9423 7.79752 38.4858C8.37893 49.0294 15.5916 52.0949 15.5916 52.0949C15.5916 52.0949 4.67984 55.5579 3.12099 64.9264C1.56228 74.2949 15.5916 77.7579 15.5916 77.7579C15.5916 77.7579 10.5077 79.6296 9.1526 88.8396C7.7975 98.0495 16.907 99.9213 20.0642 99.9213C23.2216 99.9213 34.1377 101.048 46.7675 96.9395C59.3974 92.8315 77.9432 99.9213 77.9432 99.9213C71.708 111.197 62.3374 123.104 63.9142 139.971Z" fill="#D38962"/>
      <path d="M15.5916 77.7579C15.5916 77.7579 10.5077 79.6296 9.15263 88.8396C7.79756 98.0495 16.907 99.9213 20.0642 99.9213C23.2215 99.9213 34.1378 101.048 46.7675 96.9395C59.3973 92.8315 77.9432 99.9213 77.9432 99.9213C71.708 111.197 62.3374 123.104 63.9142 139.971C65.3608 155.446 83.9968 159.921 87.724 139.973C89.9203 128.219 96.6694 116.686 108.916 104.759C121.163 92.8315 124.208 83.3957 128.994 77.7579C128.994 77.7579 148.851 76.4303 153.323 76.4303C157.796 76.4303 235.422 78.5741 235.422 78.5741C235.422 78.5741 336.802 76.4303 342.02 76.4303C344.652 76.4303 354.802 78.9912 439.673 78.5741C523.049 78.1643 1085.22 77.7582 1085.22 77.7582C1085.22 77.7582 1088.95 60.0309 1088.2 42.8858C1087.46 25.7406 1082.99 10.1014 1082.99 10.1014C1082.99 10.1014 537.641 7.83861 456.072 7.11939C369.171 6.35314 351.411 8.70074 345.747 8.69297C334.767 8.67791 221.6 5.6285 214.549 7.11937C207.499 8.61025 151.762 13.0979 139.497 11.592C127.233 10.0861 111.068 10.1011 111.068 10.1011C102.65 5.74619 90.1537 3.87979 84.9577 3.49096C84.9577 3.49096 65.4817 2.00007 55.7305 2.00007C45.9793 2.00006 26.5032 3.49094 26.5032 3.49094C26.5032 3.49094 16.907 4.86794 15.5916 12.8229C14.2763 20.7779 19.3917 22.0378 21.8267 27.9423M15.5916 77.7579C15.5916 77.7579 1.56226 74.2949 3.12104 64.9264C4.67983 55.5579 15.5916 52.0949 15.5916 52.0949M15.5916 77.7579L28.8341 77.7579M15.5916 52.0949C15.5916 52.0949 8.37894 49.0294 7.79753 38.4858C7.21611 27.9423 21.8267 27.9423 21.8267 27.9423M15.5916 52.0949L28.8341 52.0949M21.8267 27.9423L37.034 27.9423" stroke="#283F3C" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>    
  </div>
</div>

<style lang="postcss">
.thumbs {
  @apply box-border mx-2 overflow-x-hidden relative h-52 flex items-center;

  &:before {
    @apply absolute bg-celtic w-2 block h-full container z-10;
    content: '';
    border-radius: 0 50% 50% 0;
    box-shadow: 0.25rem 0 1rem 0.05rem rgb(0 0 0 / 50%);
  }

  &:after {
    @apply absolute bg-celtic w-2 block h-full z-10;
    content: '';
    border-radius: 50% 0 0 50%;
    right: 0;
    box-shadow: -0.25rem 0 1rem 0.05rem rgb(0 0 0 / 50%);
  }
  
  .thumb {
    @apply absolute;

    transition: all 300ms ease-in-out;

    &.up {
      transform: translateX(-100%);
      
      svg {
        transform: scale(var(--thumb-scale)) translateX(var(--thumb-translate-yes));
      }
    }

    &.down {
      transform: translateX(100%);

      svg {
        transform: scale(var(--thumb-scale)) translateX(var(--thumb-translate-no));
      }
    }
  }
}
</style>